export type PokemonType = 
  | 'ノーマル' | 'ほのお' | 'みず' | 'でんき' | 'くさ' | 'こおり'
  | 'かくとう' | 'どく' | 'じめん' | 'ひこう' | 'エスパー' | 'むし'
  | 'いわ' | 'ゴースト' | 'ドラゴン' | 'あく' | 'はがね' | 'フェアリー';

export type Difficulty = 'かんたん' | 'ふつう' | 'むずかしい';

export type DamageMultiplier = 0 | 0.25 | 0.5 | 1 | 2 | 4;

export interface QuizQuestion {
  attackType: PokemonType;
  defendType: PokemonType | [PokemonType, PokemonType];
  correctAnswer: DamageMultiplier;
}

export interface QuizState {
  currentQuestion: number;
  totalQuestions: number;
  score: number;
  difficulty: Difficulty;
  questions: QuizQuestion[];
  showResult: boolean;
  selectedAnswer: DamageMultiplier | null;
  isAnimating: boolean;
}

export const POKEMON_TYPES: PokemonType[] = [
  'ノーマル', 'ほのお', 'みず', 'でんき', 'くさ', 'こおり',
  'かくとう', 'どく', 'じめん', 'ひこう', 'エスパー', 'むし',
  'いわ', 'ゴースト', 'ドラゴン', 'あく', 'はがね', 'フェアリー'
];

export const TYPE_COLORS: Record<PokemonType, string> = {
  'ノーマル': '#A8A878',
  'ほのお': '#F08030',
  'みず': '#6890F0',
  'でんき': '#F8D030',
  'くさ': '#78C850',
  'こおり': '#98D8D8',
  'かくとう': '#C03028',
  'どく': '#A040A0',
  'じめん': '#E0C068',
  'ひこう': '#A890F0',
  'エスパー': '#F85888',
  'むし': '#A8B820',
  'いわ': '#B8A038',
  'ゴースト': '#705898',
  'ドラゴン': '#7038F8',
  'あく': '#705848',
  'はがね': '#B8B8D0',
  'フェアリー': '#EE99AC'
};

// タイプ相性表（攻撃側 → 防御側）
export const TYPE_EFFECTIVENESS: Record<PokemonType, Record<PokemonType, DamageMultiplier>> = {
  'ノーマル': {
    'ノーマル': 1, 'ほのお': 1, 'みず': 1, 'でんき': 1, 'くさ': 1, 'こおり': 1,
    'かくとう': 1, 'どく': 1, 'じめん': 1, 'ひこう': 1, 'エスパー': 1, 'むし': 1,
    'いわ': 0.5, 'ゴースト': 0, 'ドラゴン': 1, 'あく': 1, 'はがね': 0.5, 'フェアリー': 1
  },
  'ほのお': {
    'ノーマル': 1, 'ほのお': 0.5, 'みず': 0.5, 'でんき': 1, 'くさ': 2, 'こおり': 2,
    'かくとう': 1, 'どく': 1, 'じめん': 1, 'ひこう': 1, 'エスパー': 1, 'むし': 2,
    'いわ': 0.5, 'ゴースト': 1, 'ドラゴン': 0.5, 'あく': 1, 'はがね': 2, 'フェアリー': 1
  },
  'みず': {
    'ノーマル': 1, 'ほのお': 2, 'みず': 0.5, 'でんき': 1, 'くさ': 0.5, 'こおり': 1,
    'かくとう': 1, 'どく': 1, 'じめん': 2, 'ひこう': 1, 'エスパー': 1, 'むし': 1,
    'いわ': 2, 'ゴースト': 1, 'ドラゴン': 0.5, 'あく': 1, 'はがね': 1, 'フェアリー': 1
  },
  'でんき': {
    'ノーマル': 1, 'ほのお': 1, 'みず': 2, 'でんき': 0.5, 'くさ': 0.5, 'こおり': 1,
    'かくとう': 1, 'どく': 1, 'じめん': 0, 'ひこう': 2, 'エスパー': 1, 'むし': 1,
    'いわ': 1, 'ゴースト': 1, 'ドラゴン': 0.5, 'あく': 1, 'はがね': 1, 'フェアリー': 1
  },
  'くさ': {
    'ノーマル': 1, 'ほのお': 0.5, 'みず': 2, 'でんき': 1, 'くさ': 0.5, 'こおり': 1,
    'かくとう': 1, 'どく': 0.5, 'じめん': 2, 'ひこう': 0.5, 'エスパー': 1, 'むし': 0.5,
    'いわ': 2, 'ゴースト': 1, 'ドラゴン': 0.5, 'あく': 1, 'はがね': 0.5, 'フェアリー': 1
  },
  'こおり': {
    'ノーマル': 1, 'ほのお': 0.5, 'みず': 0.5, 'でんき': 1, 'くさ': 2, 'こおり': 0.5,
    'かくとう': 1, 'どく': 1, 'じめん': 2, 'ひこう': 2, 'エスパー': 1, 'むし': 1,
    'いわ': 1, 'ゴースト': 1, 'ドラゴン': 2, 'あく': 1, 'はがね': 0.5, 'フェアリー': 1
  },
  'かくとう': {
    'ノーマル': 2, 'ほのお': 1, 'みず': 1, 'でんき': 1, 'くさ': 1, 'こおり': 2,
    'かくとう': 1, 'どく': 0.5, 'じめん': 1, 'ひこう': 0.5, 'エスパー': 0.5, 'むし': 0.5,
    'いわ': 2, 'ゴースト': 0, 'ドラゴン': 1, 'あく': 2, 'はがね': 2, 'フェアリー': 0.5
  },
  'どく': {
    'ノーマル': 1, 'ほのお': 1, 'みず': 1, 'でんき': 1, 'くさ': 2, 'こおり': 1,
    'かくとう': 1, 'どく': 0.5, 'じめん': 0.5, 'ひこう': 1, 'エスパー': 1, 'むし': 1,
    'いわ': 0.5, 'ゴースト': 0.5, 'ドラゴン': 1, 'あく': 1, 'はがね': 0, 'フェアリー': 2
  },
  'じめん': {
    'ノーマル': 1, 'ほのお': 2, 'みず': 1, 'でんき': 2, 'くさ': 0.5, 'こおり': 1,
    'かくとう': 1, 'どく': 2, 'じめん': 1, 'ひこう': 0, 'エスパー': 1, 'むし': 0.5,
    'いわ': 2, 'ゴースト': 1, 'ドラゴン': 1, 'あく': 1, 'はがね': 2, 'フェアリー': 1
  },
  'ひこう': {
    'ノーマル': 1, 'ほのお': 1, 'みず': 1, 'でんき': 0.5, 'くさ': 2, 'こおり': 1,
    'かくとう': 2, 'どく': 1, 'じめん': 1, 'ひこう': 1, 'エスパー': 1, 'むし': 2,
    'いわ': 0.5, 'ゴースト': 1, 'ドラゴン': 1, 'あく': 1, 'はがね': 0.5, 'フェアリー': 1
  },
  'エスパー': {
    'ノーマル': 1, 'ほのお': 1, 'みず': 1, 'でんき': 1, 'くさ': 1, 'こおり': 1,
    'かくとう': 2, 'どく': 2, 'じめん': 1, 'ひこう': 1, 'エスパー': 0.5, 'むし': 1,
    'いわ': 1, 'ゴースト': 1, 'ドラゴン': 1, 'あく': 0, 'はがね': 0.5, 'フェアリー': 1
  },
  'むし': {
    'ノーマル': 1, 'ほのお': 0.5, 'みず': 1, 'でんき': 1, 'くさ': 2, 'こおり': 1,
    'かくとう': 0.5, 'どく': 0.5, 'じめん': 1, 'ひこう': 0.5, 'エスパー': 2, 'むし': 1,
    'いわ': 1, 'ゴースト': 0.5, 'ドラゴン': 1, 'あく': 2, 'はがね': 0.5, 'フェアリー': 0.5
  },
  'いわ': {
    'ノーマル': 1, 'ほのお': 2, 'みず': 1, 'でんき': 1, 'くさ': 1, 'こおり': 2,
    'かくとう': 0.5, 'どく': 1, 'じめん': 0.5, 'ひこう': 2, 'エスパー': 1, 'むし': 2,
    'いわ': 1, 'ゴースト': 1, 'ドラゴン': 1, 'あく': 1, 'はがね': 0.5, 'フェアリー': 1
  },
  'ゴースト': {
    'ノーマル': 0, 'ほのお': 1, 'みず': 1, 'でんき': 1, 'くさ': 1, 'こおり': 1,
    'かくとう': 1, 'どく': 1, 'じめん': 1, 'ひこう': 1, 'エスパー': 2, 'むし': 1,
    'いわ': 1, 'ゴースト': 2, 'ドラゴン': 1, 'あく': 0.5, 'はがね': 1, 'フェアリー': 1
  },
  'ドラゴン': {
    'ノーマル': 1, 'ほのお': 1, 'みず': 1, 'でんき': 1, 'くさ': 1, 'こおり': 1,
    'かくとう': 1, 'どく': 1, 'じめん': 1, 'ひこう': 1, 'エスパー': 1, 'むし': 1,
    'いわ': 1, 'ゴースト': 1, 'ドラゴン': 2, 'あく': 1, 'はがね': 0.5, 'フェアリー': 0
  },
  'あく': {
    'ノーマル': 1, 'ほのお': 1, 'みず': 1, 'でんき': 1, 'くさ': 1, 'こおり': 1,
    'かくとう': 0.5, 'どく': 1, 'じめん': 1, 'ひこう': 1, 'エスパー': 2, 'むし': 1,
    'いわ': 1, 'ゴースト': 2, 'ドラゴン': 1, 'あく': 0.5, 'はがね': 1, 'フェアリー': 0.5
  },
  'はがね': {
    'ノーマル': 1, 'ほのお': 0.5, 'みず': 0.5, 'でんき': 0.5, 'くさ': 1, 'こおり': 2,
    'かくとう': 1, 'どく': 1, 'じめん': 1, 'ひこう': 1, 'エスパー': 1, 'むし': 1,
    'いわ': 2, 'ゴースト': 1, 'ドラゴン': 1, 'あく': 1, 'はがね': 0.5, 'フェアリー': 2
  },
  'フェアリー': {
    'ノーマル': 1, 'ほのお': 0.5, 'みず': 1, 'でんき': 1, 'くさ': 1, 'こおり': 1,
    'かくとう': 2, 'どく': 0.5, 'じめん': 1, 'ひこう': 1, 'エスパー': 1, 'むし': 1,
    'いわ': 1, 'ゴースト': 1, 'ドラゴン': 2, 'あく': 2, 'はがね': 0.5, 'フェアリー': 1
  }
};

